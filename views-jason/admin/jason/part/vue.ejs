var COMMON = {
  DOUBLE_CLICK_TIME_PERIOD: 250,
  DEFAULT_INDEX: -1,
  DEFAULT_AVATAR: "/assets/admin/img/avatars/default.png",
};

var itemBeforeEdit = {};
var prefix = 'admin/';
var modelName = "jason/part";
var appModel = {
  modelName: modelName,
  prefix: prefix,
  data: {
    item: {
      id: '',
      title: '',
      modelName: '',
      specification: '',
      introduction: '',
      postTitle: '',
      postContent: '',
      postUrl: '',
      postAbstract: '',
      postCoverType: '',
      postCoverUrl: '',
      postType: 'part',
      groupTitle: '',
      groupId: ''
    },
    items: [],
    option: {
      defaultSort: [[ 0, 'desc' ]],
      group: []
    }
  },
  view: {
    table: {
      selectIndex: COMMON.DEFAULT_INDEX,
    },
  }
}

/* TABLETOOLS */

<%- include ../../default/vue.ejs %>
// 需要新增函式可以對 appMain 進行定義，如：
// appMain.log = function () {console.log("123")}
appMain.enableText = function(){
  $("textarea").attr("disabled", false);
  $(".textarea").removeClass('state-disabled');
}
appMain.enableSelect = function () {
  $('select').attr('disabled', false);
  $('.select').removeClass('state-disabled');
}

appMain.getPartGroup = function() {
  var ajaxSuccess = function (result) {
      console.log('get Part group result=>', result);
      appModel.data.option.group = result.data.items;
    } // end ajaxSuccess

  $.get('/api/admin/jason/group/part', ajaxSuccess);
}

appMain.titleOnChange = function() {
  appModel.data.item.postTitle = appModel.data.item.title;
}
